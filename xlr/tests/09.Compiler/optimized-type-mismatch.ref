(x:integer + y:integer):integer -> opcode Add
(x:integer - y:integer):integer -> opcode Sub
(x:real + y:real):real -> opcode FAdd
(x:real - y:real):real -> opcode FSub
extern bool xl_write_real (real)
extern bool xl_write_integer (integer)
foo X:integer -> 1 + X
foo Y:real -> 1.0 - Y
bar Z -> Z + foo Z
xl_write_integer (bar 3.5)
xl_write_integer (bar 5)
09.Compiler/optimized-type-mismatch.xl:11: Unable to evaluate xl_write_integer (bar 3.5) because
09.Compiler/optimized-type-mismatch.xl:8:  xl_write_integer (arg1:integer) doesn't match because
09.Compiler/optimized-type-mismatch.xl:11:   Cannot unify type 'real' of '(bar 3.5)'
<Unknown position>:   with type 'integer' of 'arg1'
opt-builtins.xl:59:  xl_write_integer (arg1:integer) doesn't match because
09.Compiler/optimized-type-mismatch.xl:11:   Cannot unify type 'real' of '(bar 3.5)'
<Unknown position>:   with type 'integer' of 'arg1'
09.Compiler/optimized-type-mismatch.xl:11:  No form matches 'xl_write_integer (bar 3.5)'
